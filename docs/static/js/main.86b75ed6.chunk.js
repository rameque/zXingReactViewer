(this["webpackJsonpmy-camera-test"]=this["webpackJsonpmy-camera-test"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},180:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(93),r=n.n(i),c=(n(103),n(104),n(94)),s=n(95),l=n(96),u=n(97),m=n(53),d=new m.BrowserQRCodeReader,h=new m.BrowserPDF417Reader,f=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={file:"http://placehold.it/314x222",result:["No result"],resultImage:["No result"],imageAvailable:!1},a.textInput=o.a.createRef(),a.ImageScan=o.a.createRef(),d.reset(),h.reset(),a}return Object(s.a)(n,[{key:"scanFromImage",value:function(e){var t=this,n=e?h:d;this.state.imageAvailable&&n.decodeFromImage(this.ImageScan.current).then((function(e){return t.writeResultImage(e)})).catch((function(e){return console.error(e)}))}},{key:"scanFromVideo",value:function(e){var t=this;(e?h:d).listVideoInputDevices().then((function(e){e.forEach((function(e){t.decodeFromVideo()}))})).catch((function(e){return console.error(e)}))}},{key:"writeResultImage",value:function(e){this.setState({resultImage:e.text.split("@")})}},{key:"writeResult",value:function(e){this.setState({result:e.text})}},{key:"decodeFromVideo",value:function(e){var t=this;(e?h:d).decodeFromInputVideoDeviceContinuously(void 0,"video",(function(e,n){return t.callbackDecodingVideo(e,n)})).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))}},{key:"callbackDecodingVideo",value:function(e,t){var n="",a=!1;e?a=!0:t&&(n="Trying to Decode:"+t),console.log(n),a&&(this.stopContinuousDecode(),this.writeResult(e))}},{key:"stopContinuousDecode",value:function(){h.stopContinuousDecode(),h.stopStreams(),d.stopContinuousDecode(),d.stopStreams(),d.reset(),h.reset()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"block"},o.a.createElement("h2",null,"Video"),o.a.createElement("video",{id:"video",width:"310",height:"220",className:"video"}),o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"wrapButtons"},o.a.createElement("button",{onClick:this.scanFromVideo.bind(this),className:"run"},"SCAN QRCODE"),o.a.createElement("button",{onClick:this.scanFromVideo.bind(this,"DNI"),className:"run"},"SCAN DNI")),o.a.createElement("button",{onClick:this.stopContinuousDecode.bind(this),className:"stop"},"STOP")),o.a.createElement("div",{className:"logger"},this.state.result)),o.a.createElement("hr",null),o.a.createElement("div",{className:"block"},o.a.createElement("h2",null,"Image"),o.a.createElement("input",{className:"fileHiden",type:"file",ref:this.textInput,onChange:this.readURL.bind(this)}),o.a.createElement("div",{className:"wrapper-image",onClick:this.forceOpenFile.bind(this)},o.a.createElement("img",{src:this.state.file,alt:"imgSrc",ref:this.ImageScan})),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.scanFromImage.bind(this)},"SCAN DNI FROM IMAGE")),o.a.createElement("div",null,this.state.resultImage.map((function(e,t){return o.a.createElement("p",{key:t},e)})))))}},{key:"forceOpenFile",value:function(){this.textInput.current.click()}},{key:"readURL",value:function(e){this.setState({imageAvailable:!0,file:URL.createObjectURL(e.target.files[0])})}}]),n}(a.Component);var v=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,n){e.exports=n(180)}},[[98,1,2]]]);
//# sourceMappingURL=main.86b75ed6.chunk.js.map